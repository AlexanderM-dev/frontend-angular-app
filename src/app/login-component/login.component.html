<div class="login-wrapper">

  <div class="login-window" [ngClass]="{
    'login-window-fail': fail
  }">
      
    <h1>
      Login into perfect App
    </h1>

    <p class="error-message">{{message}}</p>

    <p>Please, enter your Email and Password</p>

    <form class="login-inputs">

      <mat-form-field class="input">
        <mat-label>Email</mat-label>
        <input type="email" matInput [formControl]="emailFormControl" placeholder="Enter email..."
          [(ngModel)]="emailValue" (keydown.esc)="emailValue=''" (keydown.enter)="login()" autocomplete="off">
        <button mat-button *ngIf="emailValue" matSuffix mat-icon-button aria-label="Clear" (click)="emailValue=''">
          <mat-icon>close</mat-icon>
        </button>
        <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
          Please enter a valid email address
        </mat-error>
        <mat-error *ngIf="emailFormControl.hasError('required')">
          Email is <strong>required</strong>
        </mat-error>
      </mat-form-field>

      <mat-form-field class="input">
        <mat-label>Password</mat-label>
        <input type="password" matInput [formControl]="passFormControl" placeholder="Enter password..."
          [(ngModel)]="passValue" (keydown.esc)="passValue=''" (keydown.enter)="login()" autocomplete="off">
        <button mat-button *ngIf="passValue" matSuffix mat-icon-button aria-label="Clear" (click)="passValue=''">
          <mat-icon>close</mat-icon>
        </button>
        <mat-error *ngIf="passFormControl.hasError('minlength') && !passFormControl.hasError('required')">
          Password must be at least 4 symbols
        </mat-error>
        <mat-error *ngIf="passFormControl.hasError('required')">
          Password is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      
    </form>


    <button class="btn-login" mat-raised-button color="primary"
      [disabled]="emailFormControl.invalid || passFormControl.invalid || submitted" (click)="login()" >Sign in</button>
    <button routerLink="/register" class="btn-register" mat-raised-button color="primary">Register new company</button>

  </div>

</div>